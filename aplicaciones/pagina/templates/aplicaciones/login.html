{% extends 'aplicaciones/base.html' %}
{% block title %}Iniciar Sesión{% endblock %}

{% block contenido %}
<div class="relative max-w-md mx-auto my-10 bg-white p-8 rounded-lg shadow-lg">
    <a href="{% url 'index' %}" class="absolute top-8 left-8 text-gray-400 hover:text-gray-600 transition-colors" title="Volver al inicio">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
    </a>

    <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">Iniciar Sesión</h2>

    {% if form.errors %}
        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
            <strong class="font-bold">¡Error!</strong>
            <span class="block sm:inline">Tu nombre de usuario y contraseña no coinciden. Por favor, inténtalo de nuevo.</span>
        </div>
    {% endif %}

    <form method="post">
        {% csrf_token %}
        <input type="hidden" name="next" value="{% url 'dashboard:dashboard_view' %}">
        
        <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="id_username">Nombre de usuario</label>
            <input type="text" name="username" id="id_username" class="w-full px-3 py-2 border rounded-md">
        </div>
        <div class="mb-6">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="id_password">Contraseña</label>
            <input type="password" name="password" id="id_password" class="w-full px-3 py-2 border rounded-md">
        </div>
        
        <button type="submit" class="btn-usm-primary w-full py-2 font-bold rounded-md hover:opacity-90">Ingresar</button>
    </form>

    <div class="text-center mt-6">
        <p class="text-sm text-gray-600">
            ¿No tienes una cuenta?
            <a href="{% url 'signup' %}" class="font-medium text-blue-600 hover:text-blue-500">Regístrate aquí</a>
        </p>
    </div>
</div>
{% endblock contenido %}